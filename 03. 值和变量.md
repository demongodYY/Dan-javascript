我们将从一些代码片段开始。

```js
let reaction = 'yikes';
reaction[0] = 'l';
console.log(reaction);
```

你觉得会发生什么？如果你不清楚，也没关系，我们还没讲到这。**试着用你现有的 JavaScript 知识去回答**。

现在我希望你花一些时间写下你关于这段代码中每一行的思考。注意在你目前的思维模式中所有不确定的地方，然后也写下它们。如果有任何疑问，试着尽量地表述清楚。

### 稳住！
如果你没写完你的思考，别往下翻了

...

...

...

...

...

...

...

...

...

...

答案来啦！这段代码可能会打印出 `"yikes"` 或者抛出一个错误，这取决于你是否使用了[严格模式](https://click.convertkit-mail.com/qdu5qvk02rb8u838lzcg/9qhzhdu399o36ot9/aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvU3RyaWN0X21vZGU=)。**反正它永远不会打印出 `"likes"`。**

Yikes.

## 原始值是不可变的

你的答案对了吗？这看起来可能是个 JavaScript 面试中提出的无关紧要的小问题，但实际提出的也很少。尽管如此，它也启示了关于原始值的重要观点。

**我不能修改原始值**

我将会用一个小例子来解释它。字符串（是原始值）和数组（不是原始值，它们是对象！）有许多相似的地方。数组是一些元素的顺序集合，而字符串是一些字符的顺序集合。

```js
let arr = [212, 8, 506];
let str = 'hello';
```

你可以用同样的方式访问数组或者字符串的第一个元素或字符。这让字符串感觉起来和数组很像（但并不是！）：

```js
console.log(arr[0]); // 212
console.log(str[0]); // "h"
```

你可以改变数组的第一个元素：

```js
arr[0] = 420;
console.log(arr); // [420, 8, 506]
```

直观上感觉，字符串也可以做同样的操作：

```js
str[0] = 'j'; // ???
```

**但并不行。**

这是一个需要在我们的思维模式中加入的一个重点。字符串是一个原始值。这意味着很多事情！

**所有的原始值都是不可变的。** “不可变”代表着“只读”。你永远不能弄乱原始值。

如果你尝试给原始值设置一些属性，比如数字或字符串等等，JavaScript 不会让你这么做。它会静默地拒绝这个操作，或者抛出一个错误。这取决于你的代码运行在[哪个模式](https://click.convertkit-mail.com/qdu5qvk02rb8u838lzcg/9qhzhdu399o36ot9/aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvU3RyaWN0X21vZGU=)。

但是请放心，下面的代码永远行不通：

```js
let fifty = 50;
fifty.shades = 'gray'; // No!
```

和所有数字一样，`50` 是一个原始值，你不能给她设置任何属性。

[你做不到](https://click.convertkit-mail.com/qdu5qvk02rb8u838lzcg/7qh7h2upzzrppoiz/aHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g_dj1vdENwQ24wbDRXbw==)

在我的 JavaScript 宇宙，所有的原始值都位于离我的代码较远的空间中 —— 像遥远的星星。这提醒我即使我能从我的代码里引用它们，但是我却不能修改它们。它们就只能在那。

***这令人惊讶***

![image](https://user-images.githubusercontent.com/17036920/110886345-741bb900-8323-11eb-9157-733a204f7b11.png)

## 矛盾？

我刚刚展示了原始值是只读的 —— 或者，按我们的说法来说，它是不可变的。这有段代码来测试你的思维模式。

```js
let pet = 'Narwhal';
pet = 'The Kraken';
console.log(pet); // ?
```

跟之前一样。写下一些你的思考。不要太快。认真的思考每一行代码，一步一步来。字符串的不可变性在这里扮演了什么角色？

### 莫慌！

...

...

...

...

...

...

...

...

...

...

如果你意识到我在试图搞乱你的脑子，你是对的！答案是 `"The Kraken"` —— 不可变性在这没有起到任何作用。

如果你错了，也别丧气，我们还没讲到那！最后这两个例子看起来似乎有些互相矛盾。

***这是一个重要的认识***

如果你刚开始使用一个语言，可能会倾向于忽略这个矛盾。毕竟，如果你关注每个矛盾的话，你会陷入到一个很深的兔子洞中，学不到任何东西。但是现在你是在准备构建一个思维模式，你需要对矛盾有所怀疑。它们揭示了思维模式的差距。

## 变量是导线

我们再看一次这个例子。

```js
let pet = 'Narwhal';
pet = 'The Kraken';
console.log(pet); // "The Kraken"
```

我们直到字符串值是原始值，它不能被修改。但是 `pet` 变量去变成了 `"The Kraken"`。发生了什么呢？

这看起来似乎有点矛盾，但其实并没有。我们只是说***原始值不能修改***。我们没有说***变量***不能修改！

在重构我们的思维模式的时候，我们需要理清一些概念。

**变量不是值**

**变量指向值**

在我的宇宙里，变量就是导线。它有两个端点和一个方向：从我的代码中给它起的名字开始，链接到我的宇宙中的一些值。

举个例子，我看可以将
